<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Discovering Dynamical Systems</title>

    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="../../css/style5.css">

    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="http://jsxgraph.uni-bayreuth.de/distrib/jsxgraph.css" />
    <script type="text/javascript" src="http://jsxgraph.uni-bayreuth.de/distrib/jsxgraphcore.js"></script>

</head>

<body>

    <div class="wrapper">
        <!-- Sidebar Holder -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <h3>Discovering Dynamical Systems</h3>
            </div>

            <ul class="list-unstyled components">
                <p>Select the chapter to view inquiry activities</p>
                
                <li>    
                    <a href="#chaptersSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Chapters</a>
                    <ul class="collapse list-unstyled" id="chaptersSubmenu">
                        <li>
                            <a href="../ch1.html">Chapter 1</a>
                        </li>
                        <li>
                            <a href="../ch2.html">Chapter 2</a>
                        </li>
                        <li>
                            <a href="../ch3.html">Chapter 3</a>
                        </li>
                        <li>
                            <a href="../ch4.html">Chapter 4</a>
                        </li>
                        <li>
                            <a href="../ch5.html">Chapter 5</a>
                        </li>
                        <li>
                            <a href="../ch6.html">Chapter 6</a>
                        </li>
                        <li>
                            <a href="../ch7.html">Chapter 7</a>
                        </li>
                        <li>
                            <a href="../ch8.html">Chapter 8</a>
                        </li>
                        <li>
                            <a href="../ch9.html">Chapter 9</a>
                        </li>
                        <li>
                            <a href="../ch10.html">Chapter 10</a>
                        </li>
                        <li>
                            <a href="../ch11.html">Chapter 11</a>
                        </li>
                        <li>
                            <a href="../ch12.html">Chapter 12</a>
                        </li>
                    </ul>
                </li>
                <li>    
                    <a href="#demosSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Chapter 1 Problems</a>
                    <ul class="collapse list-unstyled" id="desosSubmenu">
                        <li>
                            <a href="1_4.html">Exercise 4</a>
                        </li>
                        <li>
                            <a href="1_6.html">Exercise 6</a>
                        </li>
                
                <li>
                    <li class="active">
                    <a href="../../index.html">Home</a><!-- data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Home</a>-->
                    <!--<ul class="collapse list-unstyled" id="homeSubmenu">
                        <li>
                            <a href="#">Home 1</a>
                        </li>
                        <li>
                            <a href="#">Home 2</a>
                        </li>
                        <li>
                            <a href="#">Home 3</a>
                        </li>
                    </ul>-->
                    <a href="../../about.html">About the Authors</a>
                    <!--<a href="contact.php">Contact</a>-->
                </li>
            </ul>

            <!--<ul class="list-unstyled CTAs">
                <li>
                    <a href="https://bootstrapious.com/tutorial/files/sidebar.zip" class="download">Download source</a>
                </li>
                <li>
                    <a href="https://bootstrapious.com/p/bootstrap-sidebar" class="article">Back to article</a>
                </li>
            </ul>-->
        </nav>

        <!-- Page Content Holder -->
        <div id="content">

            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">

                    <button type="button" id="sidebarCollapse" class="navbar-btn">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fas fa-align-justify"></i>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="nav navbar-nav ml-auto">
                            <li class="nav-item active">
                                <a class="nav-link" href="../../index.html">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="../../chapters.html">Chapters</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="../../about.html">About the Authors</a>
                            </li>
                            <!--<li class="nav-item">
                                <a class="nav-link" href="contact.php">Contact</a>
                            </li>-->
                        </ul>
                    </div>
                </div>
            </nav>
            
            <h2>Chapter 1</h2>
            <h3> Exercise 4 </h3>
            <p align="center">
            <div id="checkboxes" style="width: 500px; height: 40px;">
        <!-- Check "a" by default -->
        <label>a<input class="rValueCheckbox" type="radio" name="r" value="1/3" onclick="updateR(this);"
                checked></label>
        <label>b<input class="rValueCheckbox" type="radio" name="r" value="1/2" onclick="updateR(this);"></label>
        <label>c<input class="rValueCheckbox" type="radio" name="r" value="Math.PI/5" onclick="updateR(this);"></label>
        <label>d<input class="rValueCheckbox" type="radio" name="r" value="4/7" onclick="updateR(this);"></label>
        <p style="display: inline; padding-left: 5px;">r: <span id="rOut"></span></p>
        <script>
            // Get the value of r from the checkboxes
            var rValue = eval(document.querySelector('.rValueCheckbox:checked').value);
            var rOutput = document.getElementById("rOut");
            rOutput.innerHTML = rValue; // Output value for student to see
        </script>
    </div>
    <!-- Create buttons to determine whether to display table or plot -->
    <div id="buttons" style="width: 500px; height: 40px;">
        <button onclick="toggleView('table')">Table</button>
        <button onclick="toggleView('plot')">Plot</button>
    </div>
    <div id="plot" class="jxgbox" style="width: 500px; height: 500px; display: none;">
        <script>
            // Initialize the board
            var board = JXG.JSXGraph.initBoard("plot", {
                boundingbox: [-0.5, 1, 11, -0.1],
                axis: true,
                grid: true
            });
        </script>
    </div>
    <table id="table" style="display: block;">
        <!-- Will be filled in later -->
    </table>
    <script>
        // Store table and plot elements for use within functions
        let table = document.getElementById("table");
        let plot = document.getElementById("plot");
        // Function to change views between table and plot
        function toggleView(view) {
            if (view == "table") {
                plot.style.display = "none";
                table.style.display = "block";
            } else if (view == "plot") {
                table.style.display = "none";
                plot.style.display = "block";
            } else {
                console.error("Invalid 'view' string");
            }
        }
        // Function to create or update both the table and plot
        function updateTableAndPlot() {
            // Generate points
            var points, i;
            points = [];
            for (i = 0; i < 11; i++) {
                points.push({
                    n: i,
                    xn: (0.5 + (rValue * i)) % 1 // Start with 0.5. Add rValue each time
                });
            }
            /*
             * Update table
             */
            // Clear previous table
            table.innerHTML = "";
            // Create table head
            let thead = table.createTHead();
            let row = thead.insertRow();
            for (let key of Object.keys(points[0])) {
                let th = document.createElement("th");
                let text = document.createTextNode(key);
                th.appendChild(text);
                row.appendChild(th);
            }
            // Create table data
            for (let element of points) {
                let row = table.insertRow();
                for (key in element) {
                    let cell = row.insertCell();
                    let text = document.createTextNode(element[key]);
                    cell.appendChild(text);
                }
            }
            /*
             * Update plot
             */
            // Free and recreate board
            JXG.JSXGraph.freeBoard(board);
            board = JXG.JSXGraph.initBoard('plot', {
                boundingbox: [-0.5, 1, 11, -0.1],
                axis: true,
                grid: true
            });
            // Plot points
            for (let element of points) {
                board.create('point', [element["n"], element["xn"]], {
                    fixed: true,
                    size: 1,
                    withLabel: false
                });
            }
        }
        // Function to update the table, plot and display new value when r is changed
        function updateR(checkbox) {
            rValue = eval(checkbox.value);
            rOutput.innerHTML = rValue; // Output value of r for student to see
            updateTableAndPlot(); // Update table and plot
        }
        updateTableAndPlot(); // Update table and plot right away
    </script>
    </div>
    </p>
    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('#sidebarCollapse').on('click', function () {
                $('#sidebar').toggleClass('active');
                $(this).toggleClass('active');
            });
        });
    </script>
</body>

</html>